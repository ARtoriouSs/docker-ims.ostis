# Инструкция по запуску скриптами

Если захочется разобраться то лучше глянуть [эту инструкцию](https://github.com/ARtoriouSs/docker-ims.ostis/blob/master/command_instruction.md "Эта инструкция :\").

**Шаг 1**

Клонируем себе этот репозиторий:
```bash
git clone https://github.com/ARtoriouSs/docker-ims.ostis.git
cd docker-ims.ostis
```

**Шаг 2**

Запускаем run.sh:
```bash
./run.sh /путь/к/папке/с/базой [noupdate]
```
/путь/к/папке/с/базой это относительный или абсолютный путь к папке где лежат все файлы которые должны быть в базе. Скорее всего это будет что-то типо ostis/kb. noupdate это необязательный аргумент, если он есть то будет использован докерфайл который не будет обновлять сабмодули системы, если его нет, то сабмодули обновятся. Их лучше обновлять, но иногда в репозитории остиса попадают изменения которые что-то ломают, если такое случилось, то можно использовать noupdate, скорее всего всё будет ок, но есть шанс что предустановленная версия будет неактуальной. Версии репозиториев можно найти [здесь](https://github.com/ARtoriouSs/docker-ims.ostis/blob/master/versions.md "Версии").

Чтобы выключить тыкаем ctrl + C или ctrl + Z или просто закрываем терминал ~к хренам собачьим, так ему!!1~.

Собсна это всё, вносим изменения в базу, и повторяем шаг 2 сколько влезет.

**Дополнительно**

Удалить все оставшиеся контейнеры. Это почти полностью выполняется в начале run.sh, так что при каждом новом запуске всё лишнее будет удаляться, но в самом конце развлечений с остисом можно сделать дополнительно:
```bash
./clean.sh
```

Так же можно посмотреть содержимое kb в уже собранной и запущенной системе, для этого после запуска run.sh в новой вкладке:
```bash
./show_kb.sh
```

Если что-то пошло не по плану и сломалось можно посмотреть нет ли решения [тут](https://github.com/ARtoriouSs/docker-ims.ostis/blob/master/troubleshooting.md "Расстрел проблем").

**Ну и для примера:**

Запусткаем последнюю версию системы с базой из папки ../ostis/kb.
```bash
./run.sh ../ostis/kb
```
Открываем localhost:8000, чё-то там делаем. Вырубаем: ctrl + Z. Вносим изменения в файлы базы в ostis/kb.

Запусткаем старую систему систему с обновлённой базой из папки ../ostis/kb.
```bash
./run.sh ../ostis/kb noupdate
```
Открываем localhost:8000, чё-то там делаем. Вырубаем: ctrl + Z.

Убираем всё лишнее что могло остаться:
```bash
./clean.sh
```
Гасим комплюктер.

Идём спатки.
